# Telegram Verification Bot

Ð¢ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼-Ð±Ð¾Ñ‚ Ð½Ð° `aiogram 2` Ð¸ `Python 3.10` Ð´Ð»Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð¿Ð¾ÑˆÐ°Ð³Ð¾Ð²Ð¾Ð¹ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¾Ð¹ ÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²Ð°Ð»ÑŽÑ‚Ñ‹. Ð£Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÐºÐ½Ð¾Ð¿Ð¾Ðº Ð¸ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð¼ÐµÐ¶Ð´Ñƒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð¼ Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼.

---

## ðŸ“² Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°:

- âœ… ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ:
  - ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ;
  - ÐžÐ·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑŒÑÑ Ñ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸ÐµÐ¼ Ð¾ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ðµ;
  - Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚ Ð¸ ÑÐµÐ»Ñ„Ð¸;
  - Ð”Ð¾Ð¶Ð´Ð°Ñ‚ÑŒÑÑ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼.
- ðŸ’³ Ð—Ð°Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹ (Ð¿Ð¾ÑÐ»Ðµ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸);
- ðŸ“¤ ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‡ÐµÐº (Ñ„Ð¾Ñ‚Ð¾ Ð¸Ð»Ð¸ ÑÐºÑ€Ð¸Ð½);
- ðŸŽ¥ ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾ Ð¿Ð¾ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸;
- âŒ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð½Ð° Ð»ÑŽÐ±Ð¾Ð¼ ÑÑ‚Ð°Ð¿Ðµ;
- ðŸ“© ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑˆÐ°Ð³Ð°.

---

## ðŸ›  Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°:

- ðŸ‘¨â€ðŸ’¼ ÐŸÐ°Ð½ÐµÐ»ÑŒ Ñ Ð¿Ð¾Ð´ÑÑ‡Ñ‘Ñ‚Ð¾Ð¼ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð·Ð°ÑÐ²Ð¾Ðº (Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹, Ð²Ð¸Ð´ÐµÐ¾, Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹);
- ðŸ“„ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² (Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚ + ÑÐµÐ»Ñ„Ð¸);
- ðŸ’³ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ (Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ñ‡ÐµÐº);
- ðŸŽ¥ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ð¸Ð´ÐµÐ¾ (Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ Ð¸Ð»Ð¸ Ð¾Ñ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ);
- ðŸ’¬ Ð’Ñ‹Ð´Ð°Ñ‡Ð° Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ð¾Ð² Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ;
- âš™ï¸ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ð°Ð¼Ð¸: Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ, Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ, ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ;
- ðŸ§¹ ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð²ÑÐµÑ… Ñ‚ÐµÐºÑƒÑ‰Ð¸Ñ… Ð·Ð°ÑÐ²Ð¾Ðº Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Â«Ð·Ð°Ð²Ð¸ÑÑˆÐ¸ÐµÂ»;
- â†© ÐšÐ½Ð¾Ð¿ÐºÐ° "ÐÐ°Ð·Ð°Ð´" Ð½Ð° ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÑÑ‚Ð°Ð¿Ðµ;
- ðŸ”” Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð² Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ÑÐºÐ¸Ð¹ Ñ‡Ð°Ñ‚ Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑÑ… ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°.

---

## ðŸ§  Ð›Ð¾Ð³Ð¸ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹:

1. ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ Ñ‡ÐµÑ€ÐµÐ· FSM.
2. ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ â€” Ð¼Ð¾Ð¶ÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹.
3. Ð£ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð° Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ:
   - Ð·Ð°ÑÐ²ÐºÐ¸ Ð½Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð², Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹, Ð²Ð¸Ð´ÐµÐ¾;
   - Ð·Ð°ÑÐ²ÐºÐ¸ Ð½Ð° Ð²Ñ‹Ð´Ð°Ñ‡Ñƒ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ð¾Ð².
4. ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ½Ð¾Ð¿ÐºÐ¸, Ð±ÐµÐ· ÐºÐ¾Ð¼Ð°Ð½Ð´.
5. Ð’ÑÐµ ÑˆÐ°Ð³Ð¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑŽÑ‚ÑÑ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼.
6. Ð’ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ñ‚Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ, ÐµÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð½Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°ÐµÑ‚ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ñ‡Ð°ÑÐ° (Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº).

---

## âš™ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸:

- Python 3.10
- Aiogram 2
- FSM (Finite State Machine)
- SQLite3
- ReplyKeyboard (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸)
- Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¼ÐµÐ´Ð¸Ð° (`user_data/docs`, `user_data/videos`, `user_data/payments`)
- ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð½Ð° `asyncio` Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ Ð·Ð°ÑÐ²Ð¾Ðº

---

## ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:

```bash
pip install -r requirements.txt
```

2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ `config.py`:

```python
BOT_TOKEN = "Ð’ÐÐ¨_Ð¢ÐžÐšÐ•Ð_Ð‘ÐžÐ¢Ð"
OPERATORS = [123456789]  # Ð¡Ð¿Ð¸ÑÐ¾Ðº ID Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð²
GROUP_CHAT_ID = -100123456789  # ID Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð´Ð»Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
```

3. Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…:

```bash
python -c "from database.db import init_db; init_db()"
```

4. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ð°:

```bash
python main.py
```

---

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
â”œâ”€â”€ handlers/
â”‚   â”œâ”€â”€ start.py
â”‚   â”œâ”€â”€ user_verification.py
â”‚   â”œâ”€â”€ direct_request.py
â”‚   â”œâ”€â”€ operator_documents.py
â”‚   â”œâ”€â”€ operator_payments.py
â”‚   â”œâ”€â”€ operator_video.py
â”‚   â”œâ”€â”€ operator_requisites.py
â”‚   â””â”€â”€ operator_all_requests.py
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ db.py
â”œâ”€â”€ keyboards/
â”‚   â”œâ”€â”€ reply_common.py
â”‚   â”œâ”€â”€ reply_user.py
â”‚   â””â”€â”€ reply_operator.py
â”œâ”€â”€ states/
â”‚   â””â”€â”€ verification.py
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ media_saver.py
â”‚   â”œâ”€â”€ notifier.py
â”‚   â””â”€â”€ role_check.py
â”œâ”€â”€ user_data/
â”‚   â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ videos/
â”‚   â””â”€â”€ payments/
â”œâ”€â”€ expired_cleaner.py
â”œâ”€â”€ main.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ config.py
```

---

## ðŸ” ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ

- Ð Ð¾Ð»Ð¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑŽÑ‚ÑÑ Ð¿Ð¾ `user_id` Ð² ÑÐ¿Ð¸ÑÐºÐµ `OPERATORS`.
- Ð£ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð² â€” Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¿Ð°Ð½ÐµÐ»Ð¸, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°Ð¼ Ð¸ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ð°Ð¼.
- Ð£ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ FSM-Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ð¾Ð² Ð¿Ð¾ÑÐ»Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ.

---

## ðŸ“ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

MIT â€” ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ, Ð¼Ð¾Ð´Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÐ¹Ñ‚Ðµ.

---

> ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°: Telegram `@kot_teamlead` | Issues â€” Ð½Ð° GitHub
